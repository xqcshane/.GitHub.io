System.register("chunks:///_virtual/Game.ts",["cc"],(function(t){"use strict";var e,i,n,r,o,a,l,c,u,s,b,h,f,d;return{setters:[function(t){e=t.cclegacy,i=t._decorator,n=t.Node,r=t.Prefab,o=t.Label,a=t.PageView,l=t.Button,c=t.AudioSource,u=t.systemEvent,s=t.instantiate,b=t.Vec3,h=t.director,f=t.Director,d=t.Component}],execute:function(){var p,g,v,m,y,w,k,B,S,z,A,C,M,N,P,R,L,j,_,O,G,T,E,x,I,F,J;function Q(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return U(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return U(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=t[Symbol.iterator]()).next.bind(i)}function U(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function V(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function D(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Y(t,e,i,n,r){var o={};return Object.keys(n).forEach((function(t){o[t]=n[t]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,n){return n(t,e,i)||i}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}e._RF.push({},"14f08QY9bZJa400JigkCQjI","Game",void 0);var Z=i.ccclass,$=i.property;t("Game",(p=Z("Game"),g=$(n),v=$(r),m=$(o),y=$(o),w=$(a),k=$(n),B=$(l),S=$(n),z=$(l),A=$(n),C=$(l),M=$(c),p((R=Y((P=function(t){var e,i;function r(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return V(D(e=t.call.apply(t,[this].concat(n))||this),"ballNode",R,D(e)),V(D(e),"blockPrefab",L,D(e)),V(D(e),"scoreLabel",j,D(e)),V(D(e),"startLabel",_,D(e)),V(D(e),"Cover",O,D(e)),V(D(e),"Menu",G,D(e)),V(D(e),"MenuButton",T,D(e)),V(D(e),"Back",E,D(e)),V(D(e),"BackButton",x,D(e)),V(D(e),"Restart",I,D(e)),V(D(e),"RestartButton",F,D(e)),V(D(e),"backgroundAudio",J,D(e)),H(D(e),"blockNodeArr",[]),H(D(e),"lastBlockNode",null),H(D(e),"nowscore",0),H(D(e),"gameState",0),e}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var o=r.prototype;return o.onLoad=function(){window.newgame?(this.nowscore=window.score,this.scoreLabel.string="Score: "+this.nowscore.toString()):this.scoreLabel.string=this.nowscore.toString(),this.backgroundAudio.play(),u.on(n.EventType.TOUCH_START,this.onTouchStart,this),this.startLabel.node.active=!0,this.MenuButton.node.on("click",this.onClickMenu,this),this.BackButton.node.on("click",this.onClickBack,this),this.RestartButton.node.on("click",this.onClickRestart,this),this.initButton(),this.initBlock()},o.start=function(){this.backgroundAudio.play()},o.update=function(t){if(1==this.gameState){if(this.ballNode.getPosition().y<-1.5)return void this.endGame();for(var e,i=-2*t,n=Q(this.blockNodeArr);!(e=n()).done;){var r=e.value,o=r.getPosition(),a=o.x+=i;if(a<=-2)this.incrScore(1),r.setPosition(this.lastBlockNode.getPosition().x+2,o.y,o.z),this.lastBlockNode=r,r.getComponent("Block").init(.5+.6*Math.random(),(Math.random()>.5?1:-1)*(.4*Math.random()));else r.setPosition(a,o.y,o.z)}}},o.onTouchStart=function(){this.ballNode.getComponent("Ball").boost(),0==this.gameState&&(this.startLabel.node.active=!1,this.Menu.active=!0,this.gameState=1,this.nowscore=0,this.scoreLabel.string=this.nowscore.toString())},o.initBlock=function(){for(var t=0;t<7;t++){var e=s(this.blockPrefab);this.node.addChild(e),this.blockNodeArr.push(e),e.setPosition(new b(1.7*t,0,0))}this.lastBlockNode=this.blockNodeArr[this.blockNodeArr.length-1]},o.incrScore=function(t){this.nowscore+=t,this.scoreLabel.string=this.nowscore.toString()},o.initButton=function(){this.Cover.node.active=!1,this.Menu.active=!1,this.Back.active=!1,this.Restart.active=!1},o.onClickMenu=function(){this.Cover.node.active=!0,this.Menu.active=!1,this.Back.active=!0,this.Restart.active=!0,h.pause()},o.onClickBack=function(){this.Cover.node.active=!1,this.Menu.active=!0,this.Back.active=!1,this.Restart.active=!1,h.resume()},o.onClickRestart=function(){h.resume(),this.endGame()},o.endGame=function(){this.gameState=2,window.score=this.nowscore,window.newgame=!0,f.instance.loadScene("game")},r}(d)).prototype,"ballNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=Y(P.prototype,"blockPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=Y(P.prototype,"scoreLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=Y(P.prototype,"startLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=Y(P.prototype,"Cover",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=Y(P.prototype,"Menu",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=Y(P.prototype,"MenuButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=Y(P.prototype,"Back",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=Y(P.prototype,"BackButton",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=Y(P.prototype,"Restart",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=Y(P.prototype,"RestartButton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=Y(P.prototype,"backgroundAudio",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=P))||N));e._RF.pop()}}}));

System.register("chunks:///_virtual/Block.ts",["cc"],(function(t){"use strict";var o,e,r;return{setters:[function(t){o=t.cclegacy,e=t._decorator,r=t.Component}],execute:function(){var c;o._RF.push({},"78494qC0I9GZ4tOze5Gvizk","Block",void 0);var n=e.ccclass;e.property,t("Block",n("Block")(c=function(t){var o,e;function r(){return t.apply(this,arguments)||this}return e=t,(o=r).prototype=Object.create(e.prototype),o.prototype.constructor=o,o.__proto__=e,r.prototype.init=function(t,o){void 0===o&&(o=0);var e=this.node.getScale();this.node.setScale(t,e.y,e.z);var r=this.node.position;this.node.setPosition(r.x,o,r.z)},r}(r))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/Ball.ts",["cc"],(function(e){"use strict";var i,n,t,r,o,l,a;return{setters:[function(e){i=e.cclegacy,n=e._decorator,t=e.AudioSource,r=e.Collider,o=e.RigidBody,l=e.Vec3,a=e.Component}],execute:function(){var c,u,s,f,p;function d(e,i,n,t){n&&Object.defineProperty(e,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(t):void 0})}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}i._RF.push({},"a6e57qdI01Hs4MdOsZ2/TX0","Ball",void 0);var h=n.ccclass,y=n.property;e("Ball",(c=h("Ball"),u=y(t),c((p=function(e,i,n,t,r){var o={};return Object.keys(t).forEach((function(e){o[e]=t[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,t){return t(e,i,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,i,o),o=null),o}((f=function(e){var i,n;function t(){for(var i,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return d(b(i=e.call.apply(e,[this].concat(t))||this),"BallAudio",p,b(i)),v(b(i),"initSpeed",0),i}n=e,(i=t).prototype=Object.create(n.prototype),i.prototype.constructor=i,i.__proto__=n;var a=t.prototype;return a.onLoad=function(){var e=this.getComponent(r);e&&e.on("onCollisionEnter",this.onCollisionEnter,this)},a.onCollisionEnter=function(){this.bounce()},a.bounce=function(){var e=this.node.getComponent(o);if(this.BallAudio.play(),0==this.initSpeed){if(e){var i=new l(0,0,0);e.getLinearVelocity(i),this.initSpeed=i.y}}else e&&e.setLinearVelocity(new l(0,this.initSpeed,0))},a.boost=function(){var e=this.node.getComponent(o);e&&e.setLinearVelocity(new l(0,-4,0))},t}(a)).prototype,"BallAudio",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=f))||s));i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Game.ts","./Block.ts","./Ball.ts"],(function(){"use strict";return{setters:[function(){},function(){},function(){}],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});
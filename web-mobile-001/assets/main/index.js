System.register("chunks:///_virtual/Game.ts",["cc"],(function(t){"use strict";var e,n,i,r,o,a,l,c,u,s,b,h,f,d;return{setters:[function(t){e=t.cclegacy,n=t._decorator,i=t.Node,r=t.Prefab,o=t.Label,a=t.PageView,l=t.AudioSource,c=t.systemEvent,u=t.Button,s=t.instantiate,b=t.Vec3,h=t.director,f=t.Director,d=t.Component}],execute:function(){var p,g,v,m,y,w,k,B,S,C,z,A,N,P,M,L,R,j,_,O,G;function T(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function x(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function I(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J(t,e,n,i,r){var o={};return Object.keys(i).forEach((function(t){o[t]=i[t]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}e._RF.push({},"14f08QY9bZJa400JigkCQjI","Game",void 0);var Q=n.ccclass,U=n.property;t("Game",(p=Q("Game"),g=U(i),v=U(r),m=U(o),y=U(o),w=U(a),k=U(i),B=U(i),S=U(i),C=U(l),p((N=J((A=function(t){var e,n;function r(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return x(I(e=t.call.apply(t,[this].concat(i))||this),"ballNode",N,I(e)),x(I(e),"blockPrefab",P,I(e)),x(I(e),"scoreLabel",M,I(e)),x(I(e),"startLabel",L,I(e)),x(I(e),"Cover",R,I(e)),x(I(e),"Menu",j,I(e)),x(I(e),"BackButton",_,I(e)),x(I(e),"RestartButton",O,I(e)),x(I(e),"backgroundAudio",G,I(e)),F(I(e),"blockNodeArr",[]),F(I(e),"lastBlockNode",null),F(I(e),"nowscore",0),F(I(e),"gameState",0),e}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.onLoad=function(){window.newgame?(this.nowscore=window.score,this.scoreLabel.string="Score: "+this.nowscore.toString()):this.scoreLabel.string=this.nowscore.toString(),this.backgroundAudio.play(),c.on(i.EventType.TOUCH_START,this.onTouchStart,this),this.startLabel.node.active=!0,this.Menu.getComponent(u).node.on("click",this.onClickMenu,this),this.BackButton.getComponent(u).node.on("click",this.onClickBack,this),this.RestartButton.getComponent(u).node.on("click",this.onClickRestart,this),this.initButton(),this.initBlock()},o.start=function(){this.backgroundAudio.play()},o.update=function(t){if(1==this.gameState){if(this.ballNode.getPosition().y<-1.5)return void this.endGame();for(var e,n=-2*t,i=T(this.blockNodeArr);!(e=i()).done;){var r=e.value,o=r.getPosition(),a=o.x+=n;if(a<=-2)this.incrScore(1),r.setPosition(this.lastBlockNode.getPosition().x+2,o.y,o.z),this.lastBlockNode=r,r.getComponent("Block").init(.5+.6*Math.random(),(Math.random()>.5?1:-1)*(.4*Math.random()));else r.setPosition(a,o.y,o.z)}}},o.onTouchStart=function(){this.ballNode.getComponent("Ball").boost(),0==this.gameState&&(this.startLabel.node.active=!1,this.Menu.active=!0,this.gameState=1,this.nowscore=0,this.scoreLabel.string=this.nowscore.toString())},o.initBlock=function(){for(var t=0;t<7;t++){var e=s(this.blockPrefab);this.node.addChild(e),this.blockNodeArr.push(e),e.setPosition(new b(1.7*t,0,0))}this.lastBlockNode=this.blockNodeArr[this.blockNodeArr.length-1]},o.incrScore=function(t){this.nowscore+=t,this.scoreLabel.string=this.nowscore.toString()},o.initButton=function(){this.Cover.node.active=!1,this.Menu.active=!1,this.BackButton.active=!1,this.RestartButton.active=!1},o.onClickMenu=function(){this.Cover.node.active=!0,this.Menu.active=!1,this.BackButton.active=!0,this.RestartButton.active=!0,h.pause()},o.onClickBack=function(){this.Cover.node.active=!1,this.Menu.active=!0,this.BackButton.active=!1,this.RestartButton.active=!1,h.resume()},o.onClickRestart=function(){h.resume(),this.endGame()},o.endGame=function(){this.gameState=2,window.score=this.nowscore,window.newgame=!0,f.instance.loadScene("game")},r}(d)).prototype,"ballNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=J(A.prototype,"blockPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=J(A.prototype,"scoreLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=J(A.prototype,"startLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=J(A.prototype,"Cover",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=J(A.prototype,"Menu",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=J(A.prototype,"BackButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=J(A.prototype,"RestartButton",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=J(A.prototype,"backgroundAudio",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=A))||z));e._RF.pop()}}}));

System.register("chunks:///_virtual/Block.ts",["cc"],(function(t){"use strict";var o,e,r;return{setters:[function(t){o=t.cclegacy,e=t._decorator,r=t.Component}],execute:function(){var c;o._RF.push({},"78494qC0I9GZ4tOze5Gvizk","Block",void 0);var n=e.ccclass;e.property,t("Block",n("Block")(c=function(t){var o,e;function r(){return t.apply(this,arguments)||this}return e=t,(o=r).prototype=Object.create(e.prototype),o.prototype.constructor=o,o.__proto__=e,r.prototype.init=function(t,o){void 0===o&&(o=0);var e=this.node.getScale();this.node.setScale(t,e.y,e.z);var r=this.node.position;this.node.setPosition(r.x,o,r.z)},r}(r))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/Ball.ts",["cc"],(function(e){"use strict";var i,n,t,r,o,l,a;return{setters:[function(e){i=e.cclegacy,n=e._decorator,t=e.AudioSource,r=e.Collider,o=e.RigidBody,l=e.Vec3,a=e.Component}],execute:function(){var c,u,s,f,p;function d(e,i,n,t){n&&Object.defineProperty(e,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(t):void 0})}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}i._RF.push({},"a6e57qdI01Hs4MdOsZ2/TX0","Ball",void 0);var h=n.ccclass,y=n.property;e("Ball",(c=h("Ball"),u=y(t),c((p=function(e,i,n,t,r){var o={};return Object.keys(t).forEach((function(e){o[e]=t[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,t){return t(e,i,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,i,o),o=null),o}((f=function(e){var i,n;function t(){for(var i,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return d(b(i=e.call.apply(e,[this].concat(t))||this),"BallAudio",p,b(i)),v(b(i),"initSpeed",0),i}n=e,(i=t).prototype=Object.create(n.prototype),i.prototype.constructor=i,i.__proto__=n;var a=t.prototype;return a.onLoad=function(){var e=this.getComponent(r);e&&e.on("onCollisionEnter",this.onCollisionEnter,this)},a.onCollisionEnter=function(){this.bounce()},a.bounce=function(){var e=this.node.getComponent(o);if(this.BallAudio.play(),0==this.initSpeed){if(e){var i=new l(0,0,0);e.getLinearVelocity(i),this.initSpeed=i.y}}else e&&e.setLinearVelocity(new l(0,this.initSpeed,0))},a.boost=function(){var e=this.node.getComponent(o);e&&e.setLinearVelocity(new l(0,-4,0))},t}(a)).prototype,"BallAudio",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=f))||s));i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Game.ts","./Block.ts","./Ball.ts"],(function(){"use strict";return{setters:[function(){},function(){},function(){}],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});